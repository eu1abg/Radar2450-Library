# LD2450radar-Library

–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ HLK-LD2450 —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π, —Ç—Ä–µ–∫–∏–Ω–≥–æ–º —Ü–µ–ª–µ–π –∏ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö.

**–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:** https://github.com/eu1abg/LD2450radar-Library.git

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **–ü–ª–∞—Ç—Ñ–æ—Ä–º—ã:** ESP32 (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è), –¥—Ä—É–≥–∏–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã —Å HardwareSerial
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç—å:** [HLK-LD245X –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ v0.9.1](https://github.com/Fiooodooor/HLK-LD245X.git)
- **–°—Ä–µ–¥–∞:** Arduino IDE –∏–ª–∏ PlatformIO

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### Arduino IDE
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ [HLK-LD245X v0.9.1](https://github.com/Fiooodooor/HLK-LD245X.git)
2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ LD2450radar-Library:
   - –°–∫–∞—á–∞–π—Ç–µ ZIP —Å https://github.com/eu1abg/LD2450radar-Library.git
   - –í Arduino IDE: –°–∫–µ—Ç—á ‚Üí –ü–æ–¥–∫–ª—é—á–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É ‚Üí –î–æ–±–∞–≤–∏—Ç—å .ZIP –±–∏–±–ª–∏–æ—Ç–µ–∫—É...

### PlatformIO
–î–æ–±–∞–≤—å—Ç–µ –≤ `platformio.ini`:
```ini
lib_deps = 
    https://github.com/Fiooodooor/HLK-LD245X.git#0.9.1
    https://github.com/eu1abg/LD2450radar-Library.git
```
##üîß –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏




```text
‚úÖ –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ü–µ–ª–µ–π (EMA —Ñ–∏–ª—å—Ç—Ä)

‚úÖ –£—Å—Ç–æ–π—á–∏–≤—ã–π —Ç—Ä–µ–∫–∏–Ω–≥ —Ü–µ–ª–µ–π —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ ID

‚úÖ –†–∞—Å—á–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤ –º/—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏

‚úÖ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã: –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è, –º–∞–∫—Å. –¥–∏—Å—Ç–∞–Ω—Ü–∏—è

‚úÖ –î–≤–æ–π–Ω–æ–π API: –¥–æ—Å—Ç—É–ø –ø–æ –∞–∫—Ç–∏–≤–Ω—ã–º —Ü–µ–ª—è–º –∏ –ø–æ —Å—ã—Ä—ã–º –∏–Ω–¥–µ–∫—Å–∞–º

‚úÖ –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å ESP32 –∏ –¥—Ä—É–≥–∏–º–∏ –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞–º–∏ —Å HardwareSerial
```




## –¢–†–ï–ë–û–í–ê–ù–ò–Ø –ö –û–ë–û–†–£–î–û–í–ê–ù–ò–Æ

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `LD2450radar` —è–≤–ª—è–µ—Ç—Å—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `HLK-LD2450` –∏ —Ç—Ä–µ–±—É–µ—Ç –µ–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏. –î–∞—Ç—á–∏–∫ `HLK-LD2450` —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —á–∞—Å—Ç–æ—Ç–µ 24 –ì–ì—Ü –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ 256000 –±–æ–¥. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Å –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–º UART –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã.

##  üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

```text 
–ü–∞—Ä–∞–º–µ—Ç—Ä	                	 –ó–Ω–∞—á–µ–Ω–∏–µ	                     –û–ø–∏—Å–∞–Ω–∏–µ
–ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è	         	 ~20 –ì—Ü	                –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è 20 –ì—Ü (delay 50ms)
–ú–∞–∫—Å. —Ü–µ–ª–µ–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)	 	   3	                        –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ
–î–∏–∞–ø–∞–∑–æ–Ω –¥–∏—Å—Ç–∞–Ω—Ü–∏–π	        	  0.0 - configurable	        –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è maxDistM
–ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è	         	 0.0-1.0	                –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ
–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏	         	 ~200 –±–∞–π—Ç/—Ü–µ–ª—å	         –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ
–°–∫–æ—Ä–æ—Å—Ç—å UART	                	  256000 –±–æ–¥	                 –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é
```


  –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å	ESP32, ESP8266	ESP32 —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ö–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä

```cpp
LD2450radar(HardwareSerial &serial, int rxPin, int txPin, 
            unsigned long baud = 256000, int maxTargets = 10,
            float alpha = 0.1f, float maxDistM = 10.0f);

```




## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:


#### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–ª—è –æ—Ö—Ä–∞–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º—ã

```cpp
LD2450radar radar(
    Serial1,      // –ò—Å–ø–æ–ª—å–∑—É–µ–º Serial1
    16, 17,       // RX=16, TX=17
    256000,       // –°–∫–æ—Ä–æ—Å—Ç—å UART
    3,            // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º —Ç–æ–ª—å–∫–æ 3 —Ü–µ–ª–∏
    0.2f,         // –£–º–µ—Ä–µ–Ω–Ω–æ–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ
    5.0f          // –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –¥–æ 5 –º–µ—Ç—Ä–æ–≤
);

```
#### –¢–æ—á–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
```cpp
LD2450radar radar(
    Serial2,      // –ò—Å–ø–æ–ª—å–∑—É–µ–º Serial2
    32, 33,       // –î—Ä—É–≥–∏–µ –ø–∏–Ω—ã UART
    256000,       // –°–∫–æ—Ä–æ—Å—Ç—å UART
    1,            // –¢–æ–ª—å–∫–æ 1 —Ü–µ–ª—å (–±–ª–∏–∂–∞–π—à–∞—è)
    0.3f,         // –õ–µ–≥–∫–æ–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ
    4.0f          // –ö–æ—Ä–æ—Ç–∫–∞—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è
);
```
#### –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```cpp
// –û–ø—Ç–∏–º–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–∏
LD2450radar radar(
    Serial1,      // –ò—Å–ø–æ–ª—å–∑—É–µ–º –ø–µ—Ä–≤—ã–π UART (—Å–∞–º—ã–π –±—ã—Å—Ç—Ä—ã–π)
    16, 17,       // RX=16, TX=17 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ –ø–∏–Ω—ã ESP32)
    256000,       // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å UART
    3,            // –¢–æ–ª—å–∫–æ 3 —Ü–µ–ª–∏ (—É–º–µ–Ω—å—à–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É)
    0.6f,         // –ú–ò–ù–ò–ú–ê–õ–¨–ù–û–ï —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ (–±—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–ª–∏–∫)
    6.0f          // –°—Ä–µ–¥–Ω—è—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è
);
```
# üéØ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è


## 1. –ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä
```cpp
#include <LD2450radar.h>

LD2450radar radar(Serial1, 16, 17); // RX=16, TX=17 (ESP32)

void setup() {
    Serial.begin(115200);
    radar.begin(); // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
}

void loop() {
    radar.update(); // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
    
    int active = radar.getActiveCount();
    if (active > 0) {
        Serial.print("–ê–∫—Ç–∏–≤–Ω—ã—Ö —Ü–µ–ª–µ–π: ");
        Serial.println(active);
        
        // –î–∞–Ω–Ω—ã–µ –ø–µ—Ä–≤–æ–π –∞–∫—Ç–∏–≤–Ω–æ–π —Ü–µ–ª–∏
        Serial.print("–î–∏—Å—Ç–∞–Ω—Ü–∏—è: ");
        Serial.print(radar.getDistance(1));
        Serial.print(" –º, –°–∫–æ—Ä–æ—Å—Ç—å: ");
        Serial.print(radar.getSpeed(1));
        Serial.println(" –º/—Å");
    }
    delay(50); // ~20 –ì—Ü
}
```




### 2. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–µ—Ç–æ–º
```cpp
if (radar.getActiveCount() > 0 && radar.getDistance(1) < 3.0) {
    digitalWrite(LED_PIN, HIGH);  // –í–∫–ª—é—á–∏—Ç—å —Å–≤–µ—Ç
} else {
    digitalWrite(LED_PIN, LOW);   // –í—ã–∫–ª—é—á–∏—Ç—å —Å–≤–µ—Ç
}
```
### 3. –û—Ö—Ä–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
```cpp
if (radar.getTargetMoving(1) && radar.getTargetSpeedKmh(1) > 2.0) {
    triggerAlarm();  // –°—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏
}
```

### 4. –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```cpp
float angle = radar.getTargetAngle(1);
if (angle < -30) {
    turnLeft();   // –¶–µ–ª—å —Å–ª–µ–≤–∞
} else if (angle > 30) {
    turnRight();  // –¶–µ–ª—å —Å–ø—Ä–∞–≤–∞
} else {
    moveForward(); // –¶–µ–ª—å –ø—Ä—è–º–æ
}
```

### 5. –ü–æ–¥—Å—á–µ—Ç –ø—Ä–æ—Ö–æ–¥—è—â–∏—Ö –ª—é–¥–µ–π
```cpp
static int peopleCount = 0;
static float lastDistance = 0;

float currentDistance = radar.getTargetDistance(1);
if (currentDistance < 1.0 && lastDistance > 2.0) {
    peopleCount++;
    Serial.printf("–ü—Ä–æ—à–µ–ª —á–µ–ª–æ–≤–µ–∫. –í—Å–µ–≥–æ: %d\n", peopleCount);
}
lastDistance = currentDistance;
```
### 5.‚è±Ô∏è –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –∑–∞–¥–µ—Ä–∂–∫–æ–π

```cpp
#include <LD2450radar.h>

// –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç–∏
LD2450radar radar(Serial1, 16, 17, 256000, 2, 0.7f, 5.0f);

void setup() {
    Serial.begin(115200);
    radar.begin();
}

void loop() {
    unsigned long start = micros(); // –ó–∞–º–µ—Ä –≤—Ä–µ–º–µ–Ω–∏
    
    int rawTargets = radar.update(); // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ
    
    unsigned long processTime = micros() - start;
    
    // –ë–´–°–¢–†–´–ô –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º (–±–µ–∑ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø–æ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)
    for (int i = 1; i <= radar.capacity(); i++) {
        if (radar.getIDRaw(i) != -1) { // –¶–µ–ª—å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
            float dist = radar.getDistanceRaw(i);
            float speed = radar.getSpeedRaw(i);
            
            // –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è
            if (dist < 1.5f && abs(speed) > 0.3f) {
                triggerFastAction(); // –ù–µ–º–µ–¥–ª–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è
            }
        }
    }
    
    // –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π —á–∞—Å—Ç–æ—Ç—ã
    delay(25); // ~40 –ì—Ü!
    
    // –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
    if (processTime > 1000) {
        Serial.print("–í–ù–ò–ú–ê–ù–ò–ï: –ó–∞–¥–µ—Ä–∂–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏: ");
        Serial.print(processTime);
        Serial.println(" –º–∫—Å");
    }
}

void triggerFastAction() {
    // –ú–≥–Ω–æ–≤–µ–Ω–Ω–∞—è —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –¥–≤–∏–∂–µ–Ω–∏–µ
    digitalWrite(ALARM_PIN, HIGH);
    delay(10); // –ö–æ—Ä–æ—Ç–∫–∏–π –∏–º–ø—É–ª—å—Å
    digitalWrite(ALARM_PIN, LOW);
}
```

### 6. 

üöÄ –ò—Ç–æ–≥–æ–≤—ã–π —Ä–µ—Ü–µ–ø—Ç "–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å"

```cpp
// –ê–ë–°–û–õ–Æ–¢–ù–´–ô –ú–ò–ù–ò–ú–£–ú –ó–ê–î–ï–†–ñ–ö–ò
LD2450radar radar(Serial1, 16, 17, 256000, 1, 0.8f, 4.0f);

void setup() {
    Serial.begin(115200);
    radar.begin();
    // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∏–Ω–æ–≤ –Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —Å–∫–æ—Ä–æ—Å—Ç—å
    pinMode(ACTION_PIN, OUTPUT);
    digitalWrite(ACTION_PIN, LOW);
}

void loop() {
    radar.update(); // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ
    
    // –ü–†–Ø–ú–ê–Ø —Ä–µ–∞–∫—Ü–∏—è –Ω–∞ –±–ª–∏–∂–∞–π—à—É—é —Ü–µ–ª—å
    float dist = radar.getDistanceRaw(1);
    
    if (dist > 0 && dist < 1.0f) { // –¶–µ–ª—å –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö 1 –º–µ—Ç—Ä–∞
        GPIO.out_w1ts = (1 << ACTION_PIN); // –ú–ì–ù–û–í–ï–ù–ù–û–ï –¥–µ–π—Å—Ç–≤–∏–µ
        delayMicroseconds(100); // –ö–æ—Ä–æ—Ç–∫–∏–π –∏–º–ø—É–ª—å—Å
        GPIO.out_w1tc = (1 << ACTION_PIN);
    }
    
    delay(20); // 50 –ì—Ü - –º–∞–∫—Å–∏–º—É–º –¥–ª—è HLK-LD2450
}
```
  –†–µ–∑—É–ª—å—Ç–∞—Ç: –ó–∞–¥–µ—Ä–∂–∫–∞ "–¥–∞—Ç—á–∏–∫ ‚Üí –¥–µ–π—Å—Ç–≤–∏–µ" –º–µ–Ω–µ–µ 25 –º—Å!


## API

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

–ú–µ—Ç–æ–¥ `begin` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–∞–¥–∞—Ä.

```cpp
bool begin(bool configureMultiTarget = true)
```
### –û—Å–Ω–æ–≤–Ω—ã–µ –º–µ—Ç–æ–¥—ã
```cpp
int update() // - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—ã—Ä—ã—Ö —Ü–µ–ª–µ–π
```
```cpp
int getActiveCount() // - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ü–µ–ª–µ–π (lostCounter == 0)
```


### –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ü–µ–ª–µ–π (1-based –∏–Ω–¥–µ–∫—Å)



```cpp int getID(int n) - ID n-–π –∞–∫—Ç–∏–≤–Ω–æ–π —Ü–µ–ª–∏ ```
```cpp float getDistance(int n) - –¥–∏—Å—Ç–∞–Ω—Ü–∏—è (–º–µ—Ç—Ä—ã) ```
```cpp float getAngle(int n) - —É–≥–æ–ª (–≥—Ä–∞–¥—É—Å—ã)```
```cpp float getX(int n) - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ X (–º–µ—Ç—Ä—ã) ```
```cpp float getY(int n) - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ Y (–º–µ—Ç—Ä—ã) ```
```cpp float getSpeed(int n) - —Å–∫–æ—Ä–æ—Å—Ç—å (–º/—Å) ```

### –°—ã—Ä–æ–π –¥–æ—Å—Ç—É–ø –ø–æ –∏–Ω–¥–µ–∫—Å–∞–º (1..capacity())

```cpp int getIDRaw(int idx) - ID –ø–æ –∏–Ω–¥–µ–∫—Å—É ```
```cpp float getDistanceRaw(int idx) - –¥–∏—Å—Ç–∞–Ω—Ü–∏—è –ø–æ –∏–Ω–¥–µ–∫—Å—É ```
```cpp float getAngleRaw(int idx) - —É–≥–æ–ª –ø–æ –∏–Ω–¥–µ–∫—Å—É ```
```cpp float getXRaw(int idx) - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ X –ø–æ –∏–Ω–¥–µ–∫—Å—É ```
```cpp float getYRaw(int idx) - –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ Y –ø–æ –∏–Ω–¥–µ–∫—Å—É ```
```cpp float getSpeedRaw(int idx) - —Å–∫–æ—Ä–æ—Å—Ç—å –ø–æ –∏–Ω–¥–µ–∫—Å—É ```


### –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ç–æ–¥—ã

```cpp int capacity() - –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã—Ö —Ü–µ–ª–µ–π ```
```cpp void reset() - —Å–±—Ä–æ—Å –≤—Å–µ—Ö —Ü–µ–ª–µ–π ```





# üéõÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤



## –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è (alpha)



```cpp 0.0 - –Ω–µ—Ç —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è (—Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ) ```
```cpp 0.1 - —Å–∏–ª—å–Ω–æ–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ (–ø–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ) ```
```cpp 0.3 - —É–º–µ—Ä–µ–Ω–Ω–æ–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ ```
```cpp 0.5 - –ª–µ–≥–∫–æ–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ (–±—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–ª–∏–∫) ```


## –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è (maxDistM)


   –¶–µ–ª–∏ –¥–∞–ª—å—à–µ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏ –∏–≥–Ω–æ—Ä–∏—Ä—É—é—Ç—Å—è (–æ–±—Ä–µ–∑–∫–∞ –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–¥–∞).




# üêõ –û—Ç–ª–∞–¥–∫–∞

    –î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—ã—Ä–æ–π –¥–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º:


```cpp // –í—ã–≤–æ–¥ –≤—Å–µ—Ö —Å–ª–æ—Ç–æ–≤ (–∞–∫—Ç–∏–≤–Ω—ã—Ö –∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö)
for (int i = 1; i <= radar.capacity(); i++) {
    if (radar.getIDRaw(i) != -1) {
        Serial.printf("–°–ª–æ—Ç %d: ID=%d, –î–∏—Å—Ç–∞–Ω—Ü–∏—è=%.2f–º\n", 
                      i, radar.getIDRaw(i), radar.getDistanceRaw(i));
    }
} ```


### –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –¥–∞—Ç—á–∏–∫ HLK-LD2450 –∫ ESP32 —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ö–µ–º–µ:
```markdown

HLK-LD2450 ESP32
    TX ‚Üí   GPIO16
    RX ‚Üí   GPIO17
    3.3V ‚Üí 3.3V
    GND ‚Üí  GND
```
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∏–Ω—ã UART –Ω–∞ –≤–∞—à–µ–π –ø–ª–∞—Ç–µ ESP32. –í –ø—Ä–∏–º–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è GPIO16 (RX2) –∏ GPIO17 (TX2) ‚Äî –≤—Ç–æ—Ä–æ–π –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–π UART ESP32.





# üìÑ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞


```markdown 


LD2450radar-Library/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ LD2450radar.h    # –û—Å–Ω–æ–≤–Ω–æ–π –∑–∞–≥–æ–ª–æ–≤–æ—á–Ω—ã–π —Ñ–∞–π–ª
‚îÇ   ‚îî‚îÄ‚îÄ LD2450radar.cpp  # –†–µ–∞–ª–∏–∑–∞—Ü–∏—è
‚îú‚îÄ‚îÄ examples/
‚îÇ   ‚îî‚îÄ‚îÄ Basic/
‚îÇ       ‚îî‚îÄ‚îÄ Basic.ino    # –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
‚îú‚îÄ‚îÄ library.properties    # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Arduino IDE
‚îú‚îÄ‚îÄ library.json         # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PlatformIO
‚îú‚îÄ‚îÄ LICENSE              # –õ–∏—Ü–µ–Ω–∑–∏—è MIT
‚îî‚îÄ‚îÄ README.md            # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ```








## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

[–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è HLK-LD2450](https://github.com/Fiooodooor/HLK-LD245X)

[–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏](https://github.com/eu1abg/LD2450radar-Library)

[Arduino Forum](https://forum.arduino.cc)


## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –≤ —Ñ–∞–π–ª–µ LICENSE.





# LD2450radar-Library

–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ HLK-LD2450 —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π, —Ç—Ä–µ–∫–∏–Ω–≥–æ–º —Ü–µ–ª–µ–π –∏ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö.

![Radar2450](https://img.shields.io/badge/version-1.0.0-blue)
![Platform](https://img.shields.io/badge/platform-ESP32%20%7C%20ESP8266-green)
![License](https://img.shields.io/badge/license-MIT-yellow)

## –û–°–ù–û–í–ù–´–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò

- –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Ü–µ–ª–µ–π
- –£—Å—Ç–æ–π—á–∏–≤—ã–π —Ç—Ä–µ–∫–∏–Ω–≥ —Ü–µ–ª–µ–π —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ ID
- –†–∞—Å—á–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç–∏ –≤ –º/—Å –∏ –∫–º/—á
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –ø–æ —É–≥–ª—É –∏ –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏
- –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ü–µ–ª–µ–π –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é (–±–ª–∏–∂–∞–π—à–∏–µ –ø–µ—Ä–≤—ã–µ)
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∏—Ä—É–µ–º—ã–π –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è
- –û—Ç–ª–∞–¥–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å ESP32 –∏ ESP8266

## –¢–†–ï–ë–û–í–ê–ù–ò–Ø –ö –û–ë–û–†–£–î–û–í–ê–ù–ò–Æ

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ `Radar2450` —è–≤–ª—è–µ—Ç—Å—è —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ–º –¥–ª—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ `HLK-LD2450` –∏ —Ç—Ä–µ–±—É–µ—Ç –µ–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏. –î–∞—Ç—á–∏–∫ `HLK-LD2450` —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —á–∞—Å—Ç–æ—Ç–µ 24 –ì–ì—Ü –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–∞ —Å–∫–æ—Ä–æ—Å—Ç–∏ 256000 –±–æ–¥. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã —Å –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–º UART –¥–ª—è —Å—Ç–∞–±–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã.

##  üìä –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏

```text
–ü–∞—Ä–∞–º–µ—Ç—Ä	           –ó–Ω–∞—á–µ–Ω–∏–µ	                 –û–ø–∏—Å–∞–Ω–∏–µ
–ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è	   ~20 –ì—Ü	          –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è 20 –ì—Ü (delay 50ms)
–ú–∞–∫—Å. –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ü–µ–ª–µ–π	   3	                  –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º—ã—Ö
–î–∏–∞–ø–∞–∑–æ–Ω –¥–∏—Å—Ç–∞–Ω—Ü–∏–π	   0.1-10                 –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è setMaxDistance()
–¢–æ—á–Ω–æ—Å—Ç—å –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏	   ¬±0.1 –º	          –í —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö
–¢–æ—á–Ω–æ—Å—Ç—å —É–≥–ª–∞	           ¬±2¬∞	                  –í —Å—Ç–∞–±–∏–ª—å–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö
–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏	   ~500 –±–∞–π—Ç	          –î–ª—è —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ü–µ–ª–µ–π

–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å	ESP32, ESP8266	ESP32 —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

```
## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤:


#### –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤–∏—è

```cpp
radar.setSmoothingFactor(0.1);    // –°–∏–ª—å–Ω–æ–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ
radar.setMaxDistance(6.0);        // –î–∏—Å—Ç–∞–Ω—Ü–∏—è –¥–æ 6 –º–µ—Ç—Ä–æ–≤
radar.setAngleLimits(-60, 60);    // –®–∏—Ä–æ–∫–∏–π —É–≥–æ–ª –æ–±–∑–æ—Ä–∞

```
#### –¢–æ—á–Ω–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
```cpp
radar.setSmoothingFactor(0.3);    // –£–º–µ—Ä–µ–Ω–Ω–æ–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ
radar.setMaxDistance(4.0);        // –ö–æ—Ä–æ—Ç–∫–∞—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è
radar.setAngleLimits(-30, 30);    // –£–∑–∫–∏–π —É–≥–æ–ª –¥–ª—è —Ç–æ—á–Ω–æ—Å—Ç–∏
```
#### –ë—ã—Å—Ç—Ä–æ–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```cpp
radar.setSmoothingFactor(0.5);    // –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ
radar.setMaxDistance(8.0);        // –î–∞–ª—å–Ω–µ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ
radar.setAngleLimits(-90, 90);    // –ü–æ–ª–Ω—ã–π –æ–±–∑–æ—Ä
```

##üéØ –¢–∏–ø–∏—á–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### 1. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–≤–µ—Ç–æ–º
```cpp
if (radar.getActiveTargetCount() > 0 && radar.getTargetDistance(1) < 3.0) {
    digitalWrite(LED_PIN, HIGH);  // –í–∫–ª—é—á–∏—Ç—å —Å–≤–µ—Ç
} else {
    digitalWrite(LED_PIN, LOW);   // –í—ã–∫–ª—é—á–∏—Ç—å —Å–≤–µ—Ç
}
```
### 2. –û—Ö—Ä–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞
```cpp
if (radar.getTargetMoving(1) && radar.getTargetSpeedKmh(1) > 2.0) {
    triggerAlarm();  // –°—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–∏–∑–∞—Ü–∏–∏
}
```

### 3. –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
```cpp
float angle = radar.getTargetAngle(1);
if (angle < -30) {
    turnLeft();   // –¶–µ–ª—å —Å–ª–µ–≤–∞
} else if (angle > 30) {
    turnRight();  // –¶–µ–ª—å —Å–ø—Ä–∞–≤–∞
} else {
    moveForward(); // –¶–µ–ª—å –ø—Ä—è–º–æ
}
```

### 4. –ü–æ–¥—Å—á–µ—Ç –ø—Ä–æ—Ö–æ–¥—è—â–∏—Ö –ª—é–¥–µ–π
```cpp
static int peopleCount = 0;
static float lastDistance = 0;

float currentDistance = radar.getTargetDistance(1);
if (currentDistance < 1.0 && lastDistance > 2.0) {
    peopleCount++;
    Serial.printf("–ü—Ä–æ—à–µ–ª —á–µ–ª–æ–≤–µ–∫. –í—Å–µ–≥–æ: %d\n", peopleCount);
}
lastDistance = currentDistance;
```




## API

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

–ú–µ—Ç–æ–¥ `begin` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–∞–¥–∞—Ä —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –ø–∏–Ω–æ–≤ RX/TX –∏ —Å–∫–æ—Ä–æ—Å—Ç–∏ UART.

```cpp
void begin(int rx_pin, int tx_pin, long baud_rate = 256000);

```
### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ú–µ—Ç–æ–¥—ã –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö.

#### –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è
```cpp
void setSmoothingFactor(float factor);
```
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è (0.0-1.0). –ë–æ–ª–µ–µ –≤—ã—Å–æ–∫–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–∞—é—Ç –±–æ–ª–µ–µ –ø–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ.


#### –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è
```cpp
void setMaxDistance(float distance);
 ```
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é –¥–∏—Å—Ç–∞–Ω—Ü–∏—é –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —Ü–µ–ª–µ–π (–≤ –º–µ—Ç—Ä–∞—Ö). –¶–µ–ª–∏, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –¥–∞–ª—å—à–µ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏, –±—É–¥—É—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è.

#### –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è
```cpp
void setMinDistance(float distance);
```
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –¥–∏—Å—Ç–∞–Ω—Ü–∏—é –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —Ü–µ–ª–µ–π (–≤ –º–µ—Ç—Ä–∞—Ö). –¶–µ–ª–∏, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –±–ª–∏–∂–µ —É–∫–∞–∑–∞–Ω–Ω–æ–π –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏, –±—É–¥—É—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è.

#### –£–≥–ª–æ–≤–æ–π —Ñ–∏–ª—å—Ç—Ä
```cpp
void setAngleFilter(float min_angle, float max_angle);
```
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —É–≥–ª–æ–≤–æ–π —Ñ–∏–ª—å—Ç—Ä –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —Ü–µ–ª–µ–π (–≤ –≥—Ä–∞–¥—É—Å–∞—Ö). –¶–µ–ª–∏, –Ω–∞—Ö–æ–¥—è—â–∏–µ—Å—è –≤–Ω–µ —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —É–≥–ª–æ–≤–æ–≥–æ –¥–∏–∞–ø–∞–∑–æ–Ω–∞, –±—É–¥—É—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è. –£–≥–æ–ª –∏–∑–º–µ—Ä—è–µ—Ç—Å—è –æ—Ç –æ—Å–∏ —Ä–∞–¥–∞—Ä–∞ (0 –≥—Ä–∞–¥—É—Å–æ–≤ - –ø—Ä—è–º–æ –≤–ø–µ—Ä–µ–¥).


## –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

#### –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ü–µ–ª–µ–π
```cpp
int getActiveTargetCount();
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Ü–µ–ª–µ–π, –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ä–∞–¥–∞—Ä–æ–º. –¶–µ–ª–∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é (–±–ª–∏–∂–∞–π—à–∞—è - –ø–µ—Ä–≤–∞—è). –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Ç 0 –¥–æ 3.

#### –î–∏—Å—Ç–∞–Ω—Ü–∏—è –¥–æ —Ü–µ–ª–∏
```cpp
float getTargetDistance(int index);
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–∏—Å—Ç–∞–Ω—Ü–∏—é –¥–æ —Ü–µ–ª–∏ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∏–Ω–¥–µ–∫—Å–æ–º (–≤ –º–µ—Ç—Ä–∞—Ö). –ò–Ω–¥–µ–∫—Å –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å 1 (–±–ª–∏–∂–∞–π—à–∞—è —Ü–µ–ª—å). –¶–µ–ª–∏ —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –ø–æ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏—é, –ø–æ—ç—Ç–æ–º—É —Ü–µ–ª—å —Å –∏–Ω–¥–µ–∫—Å–æ–º 1 - –±–ª–∏–∂–∞–π—à–∞—è.



#### –£–≥–æ–ª —Ü–µ–ª–∏
```cpp
float getTargetAngle(int index);
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–≥–æ–ª —Ü–µ–ª–∏ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∏–Ω–¥–µ–∫—Å–æ–º (–≤ –≥—Ä–∞–¥—É—Å–∞—Ö). –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –ø—Ä–∞–≤–æ–π —Å—Ç–æ—Ä–æ–Ω–µ –æ—Ç —Ä–∞–¥–∞—Ä–∞, –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ - –ª–µ–≤–æ–π. –£–≥–æ–ª –∏–∑–º–µ—Ä—è–µ—Ç—Å—è –æ—Ç –æ—Å–∏ —Ä–∞–¥–∞—Ä–∞ (0 –≥—Ä–∞–¥—É—Å–æ–≤ - –ø—Ä—è–º–æ –≤–ø–µ—Ä–µ–¥).


#### –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ X —Ü–µ–ª–∏
```cpp
float getTargetX(int index);
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É X —Ü–µ–ª–∏ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∏–Ω–¥–µ–∫—Å–æ–º (–≤ –º–µ—Ç—Ä–∞—Ö). –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞: –Ω–∞—á–∞–ª–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ —Ä–∞–¥–∞—Ä–µ, –æ—Å—å X –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤–ø—Ä–∞–≤–æ –ø–µ—Ä–ø–µ–Ω–¥–∏–∫—É–ª—è—Ä–Ω–æ –æ—Å–∏ —Ä–∞–¥–∞—Ä–∞.

#### –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞ Y —Ü–µ–ª–∏
```cpp
float getTargetY(int index);
``` 
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—É Y —Ü–µ–ª–∏ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∏–Ω–¥–µ–∫—Å–æ–º (–≤ –º–µ—Ç—Ä–∞—Ö). –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞: –Ω–∞—á–∞–ª–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ —Ä–∞–¥–∞—Ä–µ, –æ—Å—å Y –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∞ –≤–ø–µ—Ä–µ–¥ –ø–æ –æ—Å–∏ —Ä–∞–¥–∞—Ä–∞.

#### –°–∫–æ—Ä–æ—Å—Ç—å —Ü–µ–ª–∏ (–º/—Å)
```cpp
float getTargetSpeedMs(int index);
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å —Ü–µ–ª–∏ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∏–Ω–¥–µ–∫—Å–æ–º –≤ –º–µ—Ç—Ä–∞—Ö –≤ —Å–µ–∫—É–Ω–¥—É. –ü–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –æ–∑–Ω–∞—á–∞—é—Ç –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –∫ —Ä–∞–¥–∞—Ä—É, –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—ã–µ - —É–¥–∞–ª–µ–Ω–∏–µ.

#### ID —Ü–µ–ª–∏
```cpp
int getTargetID(int index);
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä (ID) —Ü–µ–ª–∏ —Å —É–∫–∞–∑–∞–Ω–Ω—ã–º –∏–Ω–¥–µ–∫—Å–æ–º. ID –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è —Ü–µ–ª–∏ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –¥–ª—è —Ç—Ä–µ–∫–∏–Ω–≥–∞.

## –†–∞–±–æ—Ç–∞ –≤ –æ—Å–Ω–æ–≤–Ω–æ–º —Ü–∏–∫–ª–µ

#### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Ä–∞–¥–∞—Ä–∞

```cpp
void update();
```
–û—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Ä–∞–¥–∞—Ä–∞. –î–æ–ª–∂–µ–Ω –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –≤ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ loop() –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö —Å –¥–∞—Ç—á–∏–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∏.



### –û—Ç–ª–∞–¥–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

#### –í–∫–ª—é—á–µ–Ω–∏–µ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
```cpp
void enableDebug(bool enable);
```
–í–∫–ª—é—á–∞–µ—Ç –∏–ª–∏ –æ—Ç–∫–ª—é—á–∞–µ—Ç –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π –≤—ã–≤–æ–¥. –ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ –≤ Serial –±—É–¥–µ—Ç –≤—ã–≤–æ–¥–∏—Ç—å—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ä–∞–±–æ—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Ü–µ–ª–µ–π.

#### –í—ã–≤–æ–¥ –æ—Ç–ª–∞–¥–æ—á–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏

```cpp
void printDebugInfo();
```
–í—ã–≤–æ–¥–∏—Ç –≤ Serial –æ—Ç–ª–∞–¥–æ—á–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–µ–∫—É—â–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Ä–∞–¥–∞—Ä–∞, –≤–∫–ª—é—á–∞—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π –∏ –∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.



#### –ß–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è


```cpp
float getUpdateFrequency();
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—É—â—É—é —á–∞—Å—Ç–æ—Ç—É –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö —Ä–∞–¥–∞—Ä–∞ –≤ –≥–µ—Ä—Ü–∞—Ö (–ì—Ü). –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—Ä–µ–º–µ–Ω–∏ –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏ –º–µ—Ç–æ–¥–∞ update.



#### –°—á–µ—Ç—á–∏–∫ –∫–∞–¥—Ä–æ–≤
```cpp
uint32_t getFrameCount();
```
–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∫–∞–¥—Ä–æ–≤ –¥–∞–Ω–Ω—ã—Ö —Å –º–æ–º–µ–Ω—Ç–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Ä–∞–¥–∞—Ä–∞. –ö–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ update, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–º –ø–æ–ª—É—á–µ–Ω—ã –Ω–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ, —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç —Å—á–µ—Ç—á–∏–∫.



## –ú–ò–ù–ò–ú–ê–õ–¨–ù–´–ô –ü–†–ò–ú–ï–†

### –ü–û–î–ö–õ–Æ–ß–ï–ù–ò–ï

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –¥–∞—Ç—á–∏–∫ HLK-LD2450 –∫ ESP32 —Å–æ–≥–ª–∞—Å–Ω–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ö–µ–º–µ:
```markdown

HLK-LD2450 ESP32
    TX ‚Üí   GPIO16
    RX ‚Üí   GPIO17
    3.3V ‚Üí 3.3V
    GND ‚Üí  GND
```
**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –ø–∏–Ω—ã UART –Ω–∞ –≤–∞—à–µ–π –ø–ª–∞—Ç–µ ESP32. –í –ø—Ä–∏–º–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è GPIO16 (RX2) –∏ GPIO17 (TX2) ‚Äî –≤—Ç–æ—Ä–æ–π –∞–ø–ø–∞—Ä–∞—Ç–Ω—ã–π UART ESP32.


### –£–°–¢–ê–ù–û–í–ö–ê –ë–ò–ë–õ–ò–û–¢–ï–ö

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `HLK-LD2450` —á–µ—Ä–µ–∑ –ú–µ–Ω–µ–¥–∂–µ—Ä –±–∏–±–ª–∏–æ—Ç–µ–∫ Arduino:
   - –û—Ç–∫—Ä–æ–π—Ç–µ Arduino IDE
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –º–µ–Ω—é **–°–∫–µ—Ç—á ‚Üí –ü–æ–¥–∫–ª—é—á–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É ‚Üí –£–ø—Ä–∞–≤–ª—è—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫–∞–º–∏...**
   - –í –ø–æ–∏—Å–∫–µ –≤–≤–µ–¥–∏—Ç–µ `HLK-LD2450`
   - –í—ã–±–µ—Ä–∏—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫—É –æ—Ç `RBEGamer` –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –µ–µ

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `Radar2450` –∫–∞–∫ ZIP-–±–∏–±–ª–∏–æ—Ç–µ–∫—É:
   - –°–∫–∞—á–∞–π—Ç–µ –∞—Ä—Ö–∏–≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —Å GitHub
   - –í Arduino IDE –≤—ã–±–µ—Ä–∏—Ç–µ **–°–∫–µ—Ç—á ‚Üí –ü–æ–¥–∫–ª—é—á–∏—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É ‚Üí –î–æ–±–∞–≤–∏—Ç—å .ZIP –±–∏–±–ª–∏–æ—Ç–µ–∫—É...**
   - –í—ã–±–µ—Ä–∏—Ç–µ —Å–∫–∞—á–∞–Ω–Ω—ã–π ZIP-—Ñ–∞–π–ª

3. –î–ª—è PlatformIO –¥–æ–±–∞–≤—å—Ç–µ –≤ —Ñ–∞–π–ª `platformio.ini`:
   ```ini
   lib_deps = 
       eu1abg/Radar2450-Library
       RBEGamer/HLK-LD2450





### –ü–†–ò–ú–ï–† –ö–û–î–ê

```cpp
#include <Radar2450.h>

Radar2450 radar;

void setup() {
    Serial.begin(115200);
    radar.begin(16, 17);           // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–¥–∞—Ä–∞ –Ω–∞ –ø–∏–Ω–∞—Ö 16 (RX) –∏ 17 (TX)
    radar.setMaxDistance(6.0);     // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–∏—Å—Ç–∞–Ω—Ü–∏—è 6 –º–µ—Ç—Ä–æ–≤
    radar.setSmoothingFactor(0.2); // –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è 0.2
}

void loop() {
    radar.update();                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —Å —Ä–∞–¥–∞—Ä–∞
    
    if (radar.getActiveTargetCount() > 0) {
        float dist = radar.getTargetDistance(1);   // –î–∏—Å—Ç–∞–Ω—Ü–∏—è –¥–æ –±–ª–∏–∂–∞–π—à–µ–π —Ü–µ–ª–∏
        float angle = radar.getTargetAngle(1);     // –£–≥–æ–ª —Ü–µ–ª–∏
        float speed = radar.getTargetSpeedKmh(1);  // –°–∫–æ—Ä–æ—Å—Ç—å —Ü–µ–ª–∏ –≤ –∫–º/—á
        
        Serial.printf("–¶–µ–ª—å: %.1f–º, %.0f¬∞, %.1f–∫–º/—á\n", dist, angle, speed);
    }
    
    delay(50);  // 20 –ì—Ü - –æ–ø—Ç–∏–º–∞–ª—å–Ω–∞—è —á–∞—Å—Ç–æ—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
}
```
### –í–´–í–û–î –í –°–ï–†–ò–ô–ù–´–ô –ú–û–ù–ò–¢–û–†

–ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ –ø—Ä–∏–º–µ—Ä–∞ –∫–æ–¥–∞, –≤ —Å–µ—Ä–∏–π–Ω–æ–º –º–æ–Ω–∏—Ç–æ—Ä–µ —Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é 115200 –±–æ–¥ –≤—ã —É–≤–∏–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –æ —Ü–µ–ª—è—Ö:
```text
–¶–µ–ª—å: 2.5–º, 15¬∞, 1.2–∫–º/—á
–¶–µ–ª—å: 3.8–º, -10¬∞, 0.8–∫–º/—á
```

–ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –æ–¥–Ω–æ–π —Ü–µ–ª–∏. –î–∞–Ω–Ω—ã–µ –≤—ã–≤–æ–¥—è—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
- –î–∏—Å—Ç–∞–Ω—Ü–∏—è –≤ –º–µ—Ç—Ä–∞—Ö (—Å –æ–¥–Ω–∏–º –¥–µ—Å—è—Ç–∏—á–Ω—ã–º –∑–Ω–∞–∫–æ–º)
- –£–≥–æ–ª –≤ –≥—Ä–∞–¥—É—Å–∞—Ö (—Ü–µ–ª–æ–µ —á–∏—Å–ª–æ)
- –°–∫–æ—Ä–æ—Å—Ç—å –≤ –∫–º/—á (—Å –æ–¥–Ω–∏–º –¥–µ—Å—è—Ç–∏—á–Ω—ã–º –∑–Ω–∞–∫–æ–º)

–ï—Å–ª–∏ —Ü–µ–ª–µ–π –Ω–µ—Ç, –≤—ã–≤–æ–¥ –Ω–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è.

##üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è HLK-LD2450

–§–æ—Ä—É–º Arduino


